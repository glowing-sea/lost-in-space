## .gitlab-ci.yml
## Author: Albert Yu
##
## This file configures the CI pipeline of GitLab.
## gradle-build builds this Project
## gradle-test runs the unit tests

image: gradle:alpine
stages:
  - build
  - test
gradle-build:
  tags:
    - comp2120
  stage: build
  script: gradle assemble
gradle-test:
  tags:
    - comp2120
  stage: test
  script: gradle test
  only:
    - master
    - main
    - test
    #- /^issue-.*$/
    #- external_pull_requests
#artifacts:
#  when: always
#  reports:
#    junit:
#      - build/test-results/test/**/TEST-*.xml